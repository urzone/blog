<!DOCTYPE html>
<html lang="cmn-Hans-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Node Version Manager - XiaO | 缄默之语</title>
    <meta property="og:title" content="Node Version Manager - XiaO | 缄默之语">
    
    <meta name="twitter:card" content="summary">

    
      
    

    
      
      <meta property="description" content="虽然鄙人的老爷机依旧硬朗，然而被苹果请出重症监护室这件事，依旧导致了很多网友用爱发电的软件无法再更新了。而本地编译就像你要求八十岁老爷爷跑马拉松一样，这基本也等于变相谋杀了。
譬如，node 在 Homebrew 的新版本已经不支持本老爷机了，其旧版本所使用的一些库的版本与其它软件所需要的相同的库的版本也不兼容，着实麻烦。于是乎，使用 Node Version Manager &amp;hellip;">
      <meta property="og:description" content="虽然鄙人的老爷机依旧硬朗，然而被苹果请出重症监护室这件事，依旧导致了很多网友用爱发电的软件无法再更新了。而本地编译就像你要求八十岁老爷爷跑马拉松一样，这基本也等于变相谋杀了。
譬如，node 在 Homebrew 的新版本已经不支持本老爷机了，其旧版本所使用的一些库的版本与其它软件所需要的相同的库的版本也不兼容，着实麻烦。于是乎，使用 Node Version Manager &amp;hellip;">
      
    

    
    
    
    <meta name="twitter:image" content="https://blog.urz.one/images/logo.png">
    
    

    

    
    
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    



<link rel="stylesheet" href="/css/custom.css" />


<link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
<link rel="manifest" href="/images/icons/manifest.json">
<link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#cc342c">
<link rel="shortcut icon" href="/images/icons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="XiaO">
<meta name="application-name" content="XiaO">
<meta name="msapplication-TileColor" content="#603cba">
<meta name="msapplication-TileImage" content="/images/icons/mstile-144x144.png">
<meta name="msapplication-config" content="/images/icons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<meta name="google-site-verification" content="3C4lz-WqreDsFFohPRed1rO14aKeEDmTbw2lfIHN6og" />
  </head>

  
  <body class="cn">
    <header class="masthead">
      

<h1><a href="/"><img src="/images/logo.svg" alt="XiaO" /></a></h1>



      <nav class="menu">
  <ul>
  
  
  <li><a href="/">首页</a></li>
  
  <li><a href="/cn/">日志</a></li>
  
  <li><a href="/cn/note/">缄语</a></li>
  
  <li><a href="/en/">En</a></li>
  
  

<li class="menu-extra"></li>


<li><a href="/cn/index.xml" type="application/rss+xml" title="RSS feed">订阅</a></li>

<li><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="Attribution-NonCommercial-ShareAlike 4.0 International">版权</a></li>


  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>Node Version Manager</h1>


<h3>XiaO / 
2023-06-17</h3>

<hr>


      </header>



<p>虽然鄙人的老爷机依旧硬朗，然而被苹果请出重症监护室这件事，依旧导致了很多网友用爱发电的软件无法再更新了。而本地编译就像你要求八十岁老爷爷跑马拉松一样，这基本也等于变相谋杀了。</p>
<p>譬如，node 在 Homebrew 的新版本已经不支持本老爷机了，其旧版本所使用的一些库的版本与其它软件所需要的相同的库的版本也不兼容，着实麻烦。于是乎，使用 <a href="https://github.com/nvm-sh/nvm">Node Version Manager</a> 来<a href="https://tecadmin.net/install-nvm-macos-with-homebrew/">管理不同版本的 node</a>，放弃 Homebrew 版的 node，也就不会再有依赖障碍了。</p>
<h3 id="nvm-的安装">NVM 的安装</h3>
<ol>
<li>删除已经安装的 Homebrew 版 node</li>
</ol>
<pre tabindex="0"><code>brew uninstall --ignore-dependencies node 
brew uninstall --force node 
</code></pre><ol start="2">
<li>安装 Homebrew 版 Node Version Manager [nvm]</li>
</ol>
<pre tabindex="0"><code>brew update 
brew install nvm 

Please note that upstream has asked us to make explicit managing
nvm via Homebrew is unsupported by them and you should check any
problems against the standard nvm install method prior to reporting.

You should create NVM&#39;s working directory if it doesn&#39;t exist:
  mkdir ~/.nvm

Add the following to your shell profile e.g. ~/.profile or ~/.zshrc:
  export NVM_DIR=&#34;$HOME/.nvm&#34;
  [ -s &#34;/usr/local/opt/nvm/nvm.sh&#34; ] &amp;&amp; \. &#34;/usr/local/opt/nvm/nvm.sh&#34;  # This loads nvm
  [ -s &#34;/usr/local/opt/nvm/etc/bash_completion.d/nvm&#34; ] &amp;&amp; \. &#34;/usr/local/opt/nvm/etc/bash_completion.d/nvm&#34;  # This loads nvm bash_completion

You can set $NVM_DIR to any location, but leaving it unchanged from
/usr/local/opt/nvm will destroy any nvm-installed Node installations
upon upgrade/reinstall.

Type `nvm help` for further information.
</code></pre><ol start="3">
<li>在根目录下创建一个工作文件夹，用于存放和管理所有 node 版本</li>
</ol>
<pre tabindex="0"><code>mkdir ~/.nvm
</code></pre><ol start="4">
<li>配置所需的环境变量，打开 .bash_profile 或 .zshrc，添加如下行：</li>
</ol>
<pre tabindex="0"><code>export NVM_DIR=&#34;$HOME/.nvm&#34;
[ -s &#34;/usr/local/opt/nvm/nvm.sh&#34; ] &amp;&amp; \. &#34;/usr/local/opt/nvm/nvm.sh&#34;  # This loads nvm
[ -s &#34;/usr/local/opt/nvm/etc/bash_completion.d/nvm&#34; ] &amp;&amp; \. &#34;/usr/local/opt/nvm/etc/bash_completion.d/nvm&#34;  # This loads nvm bash_completion
</code></pre><ol start="5">
<li>将变量加载到当前的 shell 环境中（下次登录，它将自动加载）：</li>
</ol>
<pre tabindex="0"><code>source ~/.bash_profile # For bash

source ~/.zshrc # For zsh
</code></pre><h3 id="使用-nvm-安装管理-node">使用 nvm 安装管理 node</h3>
<ol>
<li>查看可以安装的 Node 版本</li>
</ol>
<pre tabindex="0"><code>nvm ls-remote 

...
v19.2.0
v19.3.0
v19.4.0
v19.5.0
v19.6.0
v19.6.1
v19.7.0
v19.8.0
v19.8.1
v19.9.0
v20.0.0
v20.1.0
v20.2.0
v20.3.0
</code></pre><ol start="2">
<li>安装 node</li>
</ol>
<pre tabindex="0"><code>nvm install 19       ## Installing Node.js 19.X version 
nvm install node     ## Installing Latest version 
</code></pre><ol start="3">
<li>检查安装的 node</li>
</ol>
<pre tabindex="0"><code>nvm ls


...
        v19.9.0
-&gt;      v20.3.0
default -&gt; node (-&gt; v20.3.0)
iojs -&gt; N/A (default)
unstable -&gt; N/A (default)
node -&gt; stable (-&gt; v20.3.0) (default)
stable -&gt; 20.3 (-&gt; v20.3.0) (default)
lts/* -&gt; lts/hydrogen (-&gt; N/A)
lts/argon -&gt; v4.9.1 (-&gt; N/A)
lts/boron -&gt; v6.17.1 (-&gt; N/A)
lts/carbon -&gt; v8.17.0 (-&gt; N/A)
lts/dubnium -&gt; v10.24.1 (-&gt; N/A)
lts/erbium -&gt; v12.22.12 (-&gt; N/A)
lts/fermium -&gt; v14.21.3 (-&gt; N/A)
lts/gallium -&gt; v16.20.0 (-&gt; N/A)
lts/hydrogen -&gt; v18.16.0 (-&gt; N/A)
</code></pre><ol start="4">
<li>版本切换</li>
</ol>
<pre tabindex="0"><code>nvm use 19 # 使用 19.X 版本的 node


...
-&gt;      v19.9.0
        v20.3.0
default -&gt; node (-&gt; v20.3.0)
iojs -&gt; N/A (default)
unstable -&gt; N/A (default)
node -&gt; stable (-&gt; v20.3.0) (default)
stable -&gt; 20.3 (-&gt; v20.3.0) (default)
lts/* -&gt; lts/hydrogen (-&gt; N/A)
lts/argon -&gt; v4.9.1 (-&gt; N/A)
lts/boron -&gt; v6.17.1 (-&gt; N/A)
lts/carbon -&gt; v8.17.0 (-&gt; N/A)
lts/dubnium -&gt; v10.24.1 (-&gt; N/A)
lts/erbium -&gt; v12.22.12 (-&gt; N/A)
lts/fermium -&gt; v14.21.3 (-&gt; N/A)
lts/gallium -&gt; v16.20.0 (-&gt; N/A)
lts/hydrogen -&gt; v18.16.0 (-&gt; N/A)
</code></pre><h3 id="使用-pakehttpsgithubcomtw93pake-打包-poe-网页">使用 <a href="https://github.com/tw93/Pake">Pake</a> 打包 poe 网页</h3>
<pre tabindex="0"><code># 使用 npm 安装 Pake
npm install -g pake-cli

# Command usage
pake url [OPTIONS]...

# 打包 POE
pake https://poe.com --name POE --transparent --icon `path/to/icon.icns`  --show-menu
</code></pre><p>软件图标可以从 <a href="https://macosicons.com/#/">macosicons</a>下载。</p>
<h3 id="使用-nativefierhttpsgithubcomtw93pake-打包-poe-网页">使用 <a href="https://github.com/tw93/Pake">Nativefier</a> 打包 poe 网页</h3>
<pre tabindex="0"><code># 使用 npm 安装 Pake
npm install -g nativefier

# 打包 POE
nativefier --name Poe --icon `path/to/icon.icns` https://poe.com
</code></pre>

  <footer>
  
<nav class="post-nav">
  <span class="nav-prev">&larr; <a href="/cn/2023-06-16/honeycomb-briquette/">蜂窝煤</a></span>
  <span class="nav-next"><a href="/cn/2023-06-22/macfuse-for-cryptomator/">macFUSE for Cryptomator</a> &rarr;</span>
</nav>
<script type="text/javascript">
document.addEventListener('keyup', function(e) {
  if (e.target.nodeName.toUpperCase() != 'BODY') return;
  var url = false;
  if (e.which == 37) {  
    
    url = '\/cn\/2023-06-16\/honeycomb-briquette\/';
    
  } else if (e.which == 39) {  
    
    url = '\/cn\/2023-06-22\/macfuse-for-cryptomator\/';
    
  }
  if (url) window.location = url;
});
</script>






<script async src="/js/fix-toc.js"></script>


<script async src="/js/center-img.js"></script>


<script async src="/js/right-quote.js"></script>


<script async src="/js/fix-footnote.js"></script>


<script async src="/js/math-code.js"></script>


<script async src="/js/external-link.js"></script>


<script async src="/js/alt-title.js"></script>


<script async src="/js/header-link.js"></script>




<script async src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>




  
  
  <hr>
  <div class="copyright">© <a href="/">XiaO</a> 2006 - 2023</div>
  
  </footer>
  </article>
  
  </body>
</html>

